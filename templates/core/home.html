<!-- templates/core/home.html -->
{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock %}
{% block content %}
<!-- Hero Section -->
<section class="py-5 text-white position-relative" style="background: url('{% static 'images/patners.png' %}') center/cover no-repeat; min-height: 420px;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-7 text-lg-start text-center mb-4 mb-lg-0">
                <h1 class="display-3 fw-bold mb-3">More than just a company</h1>
                <p class="lead mb-4">Jaspax is a collection of Africa's best talents working together to build and empower the continent.</p>
                <a href="#about" class="btn btn-warning btn-lg px-4">Show More</a>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="py-5 bg-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <img src="{% static 'images/newz.jpg' %}" class="img-fluid rounded shadow" alt="About Jaspax">
            </div>
            <div class="col-lg-6">
                <h2 class="fw-bold mb-3">About Jaspax Group</h2>
                {% if about_page and about_page.about_us %}
                    <p class="mb-3">{{ about_page.about_us|truncatewords:80|safe }}</p>
                {% else %}
                    <p class="mb-3 text-muted">About information will appear here soon.</p>
                {% endif %}
                <a href="{% url 'core:about' %}" class="btn btn-outline-primary mt-3">Find out more</a>
            </div>
        </div>
    </div>
</section>

<!-- Divisions Section (Dynamic, Bakhresa Style) -->
<section id="divisions" class="py-5" style="background: linear-gradient(90deg, #f8fafc 60%, #e3e9f7 100%);">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold" style="letter-spacing:1px;">Our Divisions</h2>
        <div class="row g-4 justify-content-center">
            {% for division in divisions %}
            <div class="col-6 col-md-4 col-lg-3">
                <div class="division-card p-4 rounded-4 shadow-sm h-100 text-center position-relative bg-white border-0" style="transition:box-shadow .2s,transform .2s;">
                    <div class="mx-auto mb-3 rounded-4 d-flex align-items-center justify-content-center bg-white shadow-sm" style="width:120px;height:120px;overflow:hidden;">
                        {% if division.image %}
                            <img src="{{ division.image.url }}" alt="{{ division.name }}" style="width:100%;height:100%;object-fit:cover;">
                        {% else %}
                            <img src="{% static 'images/placeholder.jpg' %}" alt="{{ division.name }}" style="width:100%;height:100%;object-fit:cover;">
                        {% endif %}
                    </div>
                    <h5 class="fw-semibold mb-2" style="min-height:48px;">{{ division.name }}</h5>
                    {% if division.description %}
                    <p class="small text-muted mb-3">{{ division.description|truncatewords:12 }}</p>
                    {% endif %}
                    <a href="{% url 'core:divisions' %}" class="btn btn-gradient w-100 mt-2 py-2 fw-semibold" style="background: linear-gradient(90deg, #fbb034 0%, #ffdd00 100%); color: #222; border: none; border-radius: 2rem; box-shadow: 0 2px 8px rgba(251,176,52,0.08); transition: background 0.2s, color 0.2s;">
                        <i class="fas fa-arrow-right me-2"></i>Explore More
                    </a>
                </div>
            </div>
            {% empty %}
            <p class="text-center">No divisions available.</p>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Value Statement Section -->
<section class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="fw-bold mb-3">Exceeding Expectations</h2>
                <p class="lead">We aim to increase and sustain the living standards of all Africans by being involved at every stage of the value chain, from sourcing raw materials to delivering finished goods.</p>
                <a href="{% url 'core:about' %}" class="btn btn-primary mt-3">Explore more</a>
            </div>
        </div>
    </div>
</section>

<!-- Highlights Section (Dynamic) -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row g-4">
            <!-- Leadership -->
            <div class="col-md-4">
                {% if leadership_list and leadership_list.0 %}
                <div class="card h-100 border-0 shadow-lg text-center p-4 position-relative" style="background:linear-gradient(120deg,#f8fafc 60%,#e3e9f7 100%);">
                    <div class="mx-auto mb-3 rounded-circle overflow-hidden border border-3 border-warning shadow" style="width:110px;height:110px;">
                        {% if leadership_list.0.photo %}
                            <img src="{{ leadership_list.0.photo.url }}" alt="{{ leadership_list.0.name }}" style="width:100%;height:100%;object-fit:cover;">
                        {% else %}
                            <img src="{% static 'images/placeholder.jpg' %}" alt="Leadership" style="width:100%;height:100%;object-fit:cover;">
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-1">{{ leadership_list.0.name|default:'Leadership' }}</h5>
                        <p class="card-text text-warning mb-1">{{ leadership_list.0.position|default:'Board' }}</p>
                        <p class="card-text small text-muted mb-2">{{ leadership_list.0.bio|truncatewords:18 }}</p>
                        <a href="{% url 'core:leadership' %}" class="btn btn-warning btn-sm px-4 mt-2">Meet All</a>
                    </div>
                </div>
                {% else %}
                <div class="card h-100 border-0 shadow-lg text-center p-4 position-relative d-flex align-items-center justify-content-center" style="background:linear-gradient(120deg,#f8fafc 60%,#e3e9f7 100%);min-height:320px;">
                    <div>
                        <img src="{% static 'images/placeholder.jpg' %}" alt="No Leadership" style="width:70px;height:70px;object-fit:cover;" class="mb-3 rounded-circle">
                        <h6 class="text-muted">No leadership data available yet.</h6>
                    </div>
                </div>
                {% endif %}
            </div>
            <!-- Awards -->
            <div class="col-md-4">
                {% if awards_list and awards_list.0 %}
                <div class="card h-100 border-0 shadow-lg text-center p-4 position-relative" style="background:linear-gradient(120deg,#fffbe6 60%,#fff9db 100%);">
                    <div class="mx-auto mb-3 rounded-4 overflow-hidden border border-3 border-warning shadow" style="width:110px;height:110px;">
                        {% if awards_list.0.image %}
                            <img src="{{ awards_list.0.image.url }}" alt="{{ awards_list.0.title }}" style="width:100%;height:100%;object-fit:cover;">
                        {% else %}
                            <img src="{% static 'images/award-icon.png' %}" alt="Awards" style="width:100%;height:100%;object-fit:cover;">
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-1">{{ awards_list.0.title|default:'Recent Awards' }}</h5>
                        <p class="card-text small text-muted mb-2">{{ awards_list.0.description|truncatewords:18 }}</p>
                        <span class="badge bg-warning text-dark">{{ awards_list.0.year|default:'' }}</span>
                        <div class="mt-3">
                            <a href="#" class="btn btn-warning btn-sm px-4">Read More</a>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="card h-100 border-0 shadow-lg text-center p-4 position-relative d-flex align-items-center justify-content-center" style="background:linear-gradient(120deg,#fffbe6 60%,#fff9db 100%);min-height:320px;">
                    <div>
                        <img src="{% static 'images/award.jpg' %}" alt="No Awards" style="width:70px;height:70px;object-fit:cover;" class="mb-3 rounded-4">
                        <h6 class="text-muted">No awards data available yet.</h6>
                    </div>
                </div>
                {% endif %}
            </div>
            <!-- Events -->
            <div class="col-md-4">
                {% if events_list and events_list.0 %}
                <div class="card h-100 border-0 shadow-lg text-center p-4 position-relative" style="background:linear-gradient(120deg,#e3f7fa 60%,#f8fafc 100%);">
                    <div class="mx-auto mb-3 rounded-4 overflow-hidden border border-3 border-primary shadow" style="width:110px;height:110px;">
                        {% if events_list.0.image %}
                            <img src="{{ events_list.0.image.url }}" alt="{{ events_list.0.title }}" style="width:100%;height:100%;object-fit:cover;">
                        {% else %}
                            <img src="{% static 'images/event-icon.png' %}" alt="Events" style="width:100%;height:100%;object-fit:cover;">
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-1">{{ events_list.0.title|default:'Upcoming Events' }}</h5>
                        <p class="card-text small text-muted mb-2">{{ events_list.0.date|date:'F d, Y' }} {{ events_list.0.location }}</p>
                        <p class="card-text">{{ events_list.0.details|truncatewords:18 }}</p>
                        <div class="mt-3">
                            <a href="#" class="btn btn-primary btn-sm px-4">Read More</a>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="card h-100 border-0 shadow-lg text-center p-4 position-relative d-flex align-items-center justify-content-center" style="background:linear-gradient(120deg,#e3f7fa 60%,#f8fafc 100%);min-height:320px;">
                    <div>
                        <img src="{% static 'images/event.jpg' %}" alt="No Events" style="width:70px;height:70px;object-fit:cover;" class="mb-3 rounded-4">
                        <h6 class="text-muted">No events data available yet.</h6>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- News Section (Dynamic) -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">Latest News</h2>
        <div class="row g-4">
            {% for news in news_list %}
            <div class="col-md-6">
                <div class="card h-100 border-0 shadow-sm">
                    {% if news.image %}
                        <img src="{{ news.image.url }}" class="card-img-top" alt="{{ news.title }}">
                    {% else %}
                        <img src="{% static 'images/placeholder.jpg' %}" class="card-img-top" alt="{{ news.title }}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ news.title }}</h5>
                        <p class="card-text">{{ news.content|truncatewords:20 }}</p>
                        <a href="{% url 'news:news_detail' news.slug %}" class="btn btn-link">Read More</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-center">No news available.</p>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'news:news_list' %}" class="btn btn-warning btn-lg">Find Out More</a>
        </div>
    </div>
</section>
{% endblock %}